<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Inscription</title>
</head>
<body>
    <h2>Inscription</h2>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{ user_form.as_p }}
        <div id="student-fields" style="display: none;">
            {{ student_form.as_p }}
        </div>
        <div id="professor-fields" style="display: none;">
            {{ professor_form.as_p }}
        </div>
        <div id="employee-fields" style="display: none;">
            {{ employee_form.as_p }}
        </div>
        <div id="alumni-fields" style="display: none;">
            {{ alumni_form.as_p }}
        </div>
        <button type="submit">S'inscrire</button>
    </form>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        const roleSelect = document.querySelector('select[name="role"]');
        const studentFields = document.getElementById("student-fields");
        const professorFields = document.getElementById("professor-fields");
        const employeeFields = document.getElementById("employee-fields");
        const alumniFields = document.getElementById("alumni-fields");
        function toggleRoleFields() {
            if (roleSelect && roleSelect.value === "student") {
                studentFields.style.display = "block";
                professorFields.style.display = "none";
                employeeFields.style.display = "none";
                alumniFields.style.display = "none";
            } else if (roleSelect && roleSelect.value === "professor") {
                studentFields.style.display = "none";
                professorFields.style.display = "block";
                employeeFields.style.display = "none";
                alumniFields.style.display = "none";
            } else if (roleSelect && roleSelect.value === "employee") {
                studentFields.style.display = "none";
                professorFields.style.display = "none";
                employeeFields.style.display = "block";
                alumniFields.style.display = "none";
            } else if (roleSelect && roleSelect.value === "alumni") {
                studentFields.style.display = "none";
                professorFields.style.display = "none";
                employeeFields.style.display = "none";
                alumniFields.style.display = "block";
            } else {
                studentFields.style.display = "none";
                professorFields.style.display = "none";
                employeeFields.style.display = "none";
                alumniFields.style.display = "none";
            }
        }
        if (roleSelect) {
            roleSelect.addEventListener("change", toggleRoleFields);
            toggleRoleFields();
        }
    });